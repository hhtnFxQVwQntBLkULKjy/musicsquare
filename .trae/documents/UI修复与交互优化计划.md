# 修复与优化计划

收到您的详细反馈。核心问题在于**登录页样式未生效**（引用了不同的CSS文件）、**扫码体验不佳**、**歌单添加交互繁琐**以及**后端代码未成功更新**。

我们将分四步彻底解决：

## 1. 修复登录/注册页样式 (优先级最高)
*   **原因**: 登录页 (`index.html`) 引用的是 `css/login.css`，而我之前修改的是 `css/style.css`，导致样式没生效。
*   **行动**: 重写 `css/login.css`，将 Toast 提示框移至**顶部居中**，背景改为**清新绿**，字体放大并加粗，添加**打钩图标**。
*   **汉化**: 确保“账号已存在”等所有错误提示均为中文 Toast。

## 2. 优化扫码同步体验
*   **二维码刷新**: 在二维码失效（或点击图片）时，显示一个“刷新”按钮，点击即可原地重新获取，无需返回上一级。
*   **QQ二维码**: 检查 Base64 显示逻辑，确保图片能正确渲染。
*   **时效**: 延长前端轮询时间，并增加过期后的手动刷新机制。

## 3. 优化歌单与资料交互
*   **添加到歌单**: 
    *   **移除“确定”按钮**：改为点击歌单列表项**直接添加**并自动关闭弹窗。
    *   **修复报错**：检查去重逻辑，解决空歌单添加报错的问题。
*   **编辑资料**: 在头像区域增加显眼的“点击修改头像”文字提示。

## 4. 后端代码全量更新
*   我将提供一份**完整且经过检查的 `worker.js`** 代码，请您务必**全选覆盖** Cloudflare 上的旧代码，以修复扫码和歌单保存的后端逻辑。

---

**现在开始执行，首先修复登录页的样式问题。**