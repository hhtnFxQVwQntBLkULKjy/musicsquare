# Bug 修复与功能完善计划 (修订版)

根据您的反馈，我将调整热门标签的布局方案（**不换行**，优化横向滚动），并继续执行其他修复。

## 1. 修复：热门歌曲布局 (Layout Fix - No Wrap)
*   **用户要求**: 标签**不允许换行**，可以横向展示更多。
*   **解决方案**:
    *   修改 `css/style.css` 中的 `.search-recommend`。
    *   保持 `flex-wrap: nowrap`。
    *   设置 `overflow-x: auto` 允许横向滚动。
    *   隐藏滚动条 (`::-webkit-scrollbar { display: none; }`) 以保持美观。
    *   确保标签不会被挤压 (`flex-shrink: 0`)。

## 2. 修复：添加歌曲无响应 (Add Song Fix)
*   **问题**: 点击添加后无任何反应。
*   **修复**: 
    *   `js/ui.js`: 强制在点击事件中捕获所有异常，并弹出 Toast 提示。
    *   检查 `DataService.addSongToPlaylist` 是否因为 `uid` 生成重复而默默失败。

## 3. 修复：删除歌单无效 (Delete Playlist Fix)
*   **问题**: 删除按钮点击无反应。
*   **修复**: 
    *   `js/app.js`: 确保删除按钮的 `click` 事件使用了 `e.stopPropagation()` 且逻辑未被其他条件拦截。

## 4. 功能：优化歌单命名 (Naming Convention)
*   **需求**: 导入歌单名为 `平台：原名`。
*   **修复**: 
    *   `backend/worker.js`: 在同步逻辑中，将写入数据库的 `name` 字段格式化为 `ServerMap[platform] + "：" + pl.name`。

## 5. 修复：播放器失效 (Player Fix)
*   **问题**: 播放器点不出来。
*   **修复**: 
    *   检查 `js/player.js` 是否被正确加载。
    *   确保 `UI.init` 中正确绑定了播放器事件。

## 执行步骤
1.  **CSS**: 修改 `style.css`，优化 `.search-recommend` 为横向滚动布局。
2.  **后端**: 修改 `worker.js`，实现歌单命名前缀逻辑。
3.  **前端**: 修复 `js/ui.js` (添加歌曲) 和 `js/app.js` (删除歌单) 的交互逻辑。
