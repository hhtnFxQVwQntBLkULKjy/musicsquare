# 终极修复方案 (V4)

收到您的明确要求。我们将针对布局和扫码问题进行**精确调整**。

## 1. 热门标签/歌手显示 (单排无滚动)
*   **需求**: 8 个热门标签必须在**一行内完全显示**，不能有滚动条，也不能换行。
*   **方案**: 
    *   **弹性布局**: 使用 `flex: 1` 或百分比宽度，确保 8 个元素均匀分布填满容器。
    *   **紧凑排版**: 适当减小标签的内边距 (padding) 和字体大小，确保在标准窗口宽度下 8 个标签能排得下。
    *   **移除滚动**: 彻底移除 `overflow-x` 相关属性。

## 2. QQ 音乐二维码 (显示 + 防过期)
*   **显示修复**: 后端使用标准的二进制流处理，确保 Base64 编码正确。
*   **防过期**: 
    *   虽然 QQ 的二维码有效期通常较长，但为了保险，我们会加上与网易云相同的**自动刷新机制**。
    *   如果在轮询过程中发现状态异常或超时，前端将自动重新请求新的二维码。

## 3. 歌单无感刷新
*   **方案**: 保持之前的“即时更新”逻辑，确保添加歌曲后，前端数据和 UI 同步更新，无需用户手动刷新。

## 4. 行动计划
1.  **CSS**: 调整 `.search-recommend` 为单排紧凑布局。
2.  **JS**: 优化 `addSongToPlaylist` 的前端回填逻辑；统一网易云和 QQ 的二维码轮询/刷新逻辑。
3.  **Worker**: 提供包含**完美 Base64** 和 **防缓存** 的最终版代码。

---

**请确认，我将按此执行。**